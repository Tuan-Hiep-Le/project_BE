<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mua Ngay</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container my-5">
    <h2 class="text-center mb-4">üìö ƒê·∫∑t mua s√°ch ngay</h2>
    <form th:action="@{/home_after_user_login/buy_now}" method="post" class="card p-4 shadow-sm">
        <input type="hidden" name="bookId" th:value="${bookId}" />

        <div class="mb-3">
            <label class="form-label">ƒê·ªãa ch·ªâ giao h√†ng</label>
            <input th:type="text" name="where" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ" class="form-control">
        </div>

        <div class="row mb-4">
            <div class="col-md-4">
                <img th:src="@{/images/sach-anh-dep3.jpg}"  class="img-fluid rounded">
            </div>
            <div class="col-md-8">
                <p><strong>T√™n s√°ch:</strong> <span th:text="${bookBuy.nameBook}"></span></p>
                <p><strong>T√°c gi·∫£:</strong> <span th:text="${bookBuy.nameAuthor}"></span></p>
                <p><strong>Ng√¥n ng·ªØ:</strong> <span th:text="${bookBuy.language}"></span></p>
                <p><strong>Gi√°:</strong> <span th:text="${bookBuy.price}"></span></p>
                <div class="mb-3">
                    <label for="quantityBuy" class="form-label">S·ªë l∆∞·ª£ng mua</label>
                    <input type="number"
                           id="quantityBuy"
                           name="quantityBuy"
                           class="form-control"
                           th:value="1"
                           min="1"
                           step="1"
                           required>
                </div>
            </div>
        </div>

        <div class="mb-3">
            <p><strong>T·ªïng ti·ªÅn:</strong> <span th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 2, 'POINT')}"></span></p>
            <p><strong>Ti·ªÅn Ship:</strong> <span th:text="${moneyShip}"></span></p>
        </div>

        <div class="mb-3">
            <label class="form-label">üéü Voucher Gi·∫£m gi√°</label>
            <select name="valueVoucherDiscount" class="form-select" >
                <option th:each="voucherDiscount : ${listVoucherDiscount}"
                        th:value="${voucherDiscount[0]}"
                        th:text="'Voucher: ' + ${voucherDiscount[0]} + ' (S·ªë l∆∞·ª£ng: ' + ${voucherDiscount[1]} + ')'">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">üì¶ Voucher V·∫≠n chuy·ªÉn</label>
            <select name="valueVoucherTransfer" class="form-select" >
                <option th:each="voucherTransfer : ${listVoucherTransfer}"
                        th:value="${voucherTransfer[0]}"
                        th:text="'Voucher: ' + ${voucherTransfer[0]} + ' (S·ªë l∆∞·ª£ng: ' + ${voucherTransfer[1]} + ')'">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">üí≥ Ph∆∞∆°ng th·ª©c thanh to√°n</label>
            <select name="paymentMethod" class="form-select">
                <option th:value="CASH">Thanh to√°n khi nh·∫≠n h√†ng</option>
                <option th:value="TRANSFER">Chuy·ªÉn kho·∫£n</option>
            </select>
        </div>
        <p class="fs-5 text-success"><strong>T·ªïng thanh to√°n:</strong> <span th:text="${#numbers.formatDecimal(payment, 0, 'COMMA', 2, 'POINT')}"></span></p>
        <div class="text-center">
            <button type="submit" class="btn btn-primary px-5">Thanh to√°n</button>
        </div>
    </form>
</div>


<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
